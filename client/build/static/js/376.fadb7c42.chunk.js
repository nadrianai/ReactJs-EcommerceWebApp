"use strict";(self.webpackChunkcleint=self.webpackChunkcleint||[]).push([[376],{4376:function(e,t,r){r.r(t);var a=r(7166),n=r(3032),s=r(678),o=r(2791),i=r(9085),c=r(6142),l=r(9434),u=r(7736),d=r(6958),m=r(184);t.default=function(e){var t=(0,o.useState)(""),r=(0,s.Z)(t,2),f=r[0],p=r[1],h=(0,o.useState)(""),b=(0,s.Z)(h,2),g=b[0],w=b[1],x=(0,l.I0)(),v=(0,u.k6)();(0,o.useEffect)((function(){p(window.localStorage.getItem("emailForRegistration"))}),[]);var k=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f&&g){e.next=4;break}return i.Am.error("Email and password are required!"),e.abrupt("return");case 4:if(!(g.length<6)){e.next=7;break}return i.Am.error("Password must be at least 6 characters long!"),e.abrupt("return");case 7:return e.prev=7,e.next=10,c.I.signInWithEmailLink(f,window.location.href);case 10:if(!e.sent.user.emailVerified){e.next=20;break}return window.localStorage.removeItem("emailForRegistration"),r=c.I.currentUser,e.next=16,r.updatePassword(g);case 16:return e.next=18,r.getIdToken();case 18:n=e.sent,(0,d.XB)(n).then((function(e){x({type:"LOGGED_IN_USER",payload:{email:e.data.email,name:e.data.name,token:n,role:e.data.role,_id:e.data._id}})})).then((function(){v.push("/")})).catch((function(e){console.log(e)}));case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(7),console.log(e.t0),i.Am.error(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[7,22]])})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsx)("div",{className:"container p-5",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col-md-6 offset-md-3",children:[(0,m.jsx)("h4",{children:"Register Complete"}),(0,m.jsxs)("form",{onSubmit:k,children:[(0,m.jsx)("input",{type:"email",className:"form-control mb-3 disabled",defaultValue:f}),(0,m.jsx)("input",{type:"password",className:"form-control mb-3",value:g,onChange:function(e){return w(e.target.value)},autoFocus:!0,placeholder:"Enter password here"}),(0,m.jsx)("button",{tyle:"submit",className:"btn btn-raised",children:" Complete Registration "})]})]})})})}}}]);
//# sourceMappingURL=376.fadb7c42.chunk.js.map