"use strict";(self.webpackChunkcleint=self.webpackChunkcleint||[]).push([[197],{377:function(t,e,n){n.d(e,{$f:function(){return x},E9:function(){return i},JM:function(){return u},LV:function(){return h},Mp:function(){return g},WK:function(){return l},gl:function(){return o},sA:function(){return f},uI:function(){return p},zL:function(){return d}});var r=n(7166),s=n(3032),a=n(4569),c=n.n(a),i=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/user/cart"),{cart:e},{headers:{authoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),l=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("".concat("http://localhost:8000/api","/user/cart"),{headers:{authoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().delete("".concat("http://localhost:8000/api","/user/cart"),{headers:{authoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/user/address"),{address:e},{headers:{authoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),d=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/user/cart/coupon"),{coupon:e},{headers:{authoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/user/order"),{stripeResponse:e},{headers:{authoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("".concat("http://localhost:8000/api","/user/orders"),{headers:{authoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("".concat("http://localhost:8000/api","/user/wishlist"),{headers:{authoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().put("".concat("http://localhost:8000/api","/user/wishlist/:productId"),{},{headers:{authoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/user/wishlist"),{productId:e},{headers:{authoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},9018:function(t,e,n){n.r(e),n.d(e,{default:function(){return _}});var r=n(8489),s=n(678),a=n(2791),c=n(7736),i=n(7027),l=n(2730),o=n(6664),u=n(3865),d=n(2426),h=n(6533),p=n(7391),f=(n(8040),n(197)),x=n(7846),g=n(6729),m=n(3818),j=n(1098),b=n(5778),v=n(1782),Z=n(9085),N=n(9434),w=n(740),k=n(184),y=function(t){var e=t.children,n=(0,N.v9)((function(t){return(0,r.Z)({},t)})).user,i=(0,a.useState)(!1),l=(0,s.Z)(i,2),o=l[0],u=l[1],d=(0,c.k6)(),h=(0,c.UO)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{onClick:function(){n&&n.token?u(!0):d.push({pathname:"/login",state:{from:"/product/".concat(h.slug)}})},children:[(0,k.jsx)(w.Z,{className:"text-danger"})," ",(0,k.jsx)("br",{}),n?"Leave rating":"Login to leave rating"]}),(0,k.jsx)(v.Z,{title:"Leave your rating",centered:!0,visible:o,onOk:function(){u(!1),Z.Am.success("Thanks for your review! It will appear soon!")},onCancel:function(){return u(!1)},children:e})]})},S=n(538),C=n(6397),F=n(763),L=n.n(F),I=n(377),A=l.Z.Meta,E=o.Z.TabPane,_=function(){var t=(0,a.useState)(),e=(0,s.Z)(t,2),n=e[0],v=e[1],w=(0,a.useState)(),F=(0,s.Z)(w,2),_=F[0],O=F[1],D=(0,a.useState)([]),M=(0,s.Z)(D,2),R=M[0],q=M[1],T=(0,a.useState)(0),U=(0,s.Z)(T,2),W=U[0],B=U[1],J=(0,a.useState)([]),P=(0,s.Z)(J,2),V=P[0],z=P[1],K=(0,a.useState)("Click to add"),Q=(0,s.Z)(K,2),$=Q[0],G=Q[1],H=(0,c.UO)().slug,X=(0,N.I0)(),Y=(0,N.v9)((function(t){return(0,r.Z)({},t)})).user;(0,a.useEffect)((function(){tt()}),[H]),(0,a.useEffect)((function(){n?(et(),rt()):console.log("Waiting...")}),[n]),(0,a.useEffect)((function(){if(Y&&n&&n.ratings){var t=n.ratings,e=Y._id.toString(),r=t.find((function(t){return t.postedBy.toString()===e}));void 0!==r&&B(r.star)}}),[Y,n]);var tt=function(){(0,i.qR)(H).then((function(t){v(t.data),(0,i.cE)(t.data._id).then((function(t){z(t.data)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},et=function(){(0,g.qC)(n.category).then((function(t){O(t.data)})).catch((function(t){console.log(t)}))},nt=[],rt=function(){n.subs.map((function(t,e){(0,m.WD)(t).then((function(t){var e={slug:(0,j.Z)(t.data),name:t.data};nt.push(e)})).then((function(){q(nt)})).catch((function(t){console.log(t)}))}))};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"product-wrapper pt-5 pb-5",children:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"col-md-7 float-left",children:n?(0,k.jsx)(k.Fragment,{children:n.images.length>0?(0,k.jsxs)("div",{children:[(0,k.jsx)(f.lr,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:n.images.map((function(t,e){return(0,k.jsx)("div",{children:(0,k.jsx)("img",{src:t.url,style:{objectFit:"contain"}})},e)}))}),(0,k.jsxs)(o.Z,{type:"card",children:[(0,k.jsx)(E,{tab:"Description",children:n.description&&n.description},"1"),(0,k.jsx)(E,{tab:"More",children:"Feel free to reach customer service for more info about this product"},"2")]})]}):(0,k.jsxs)("div",{children:[(0,k.jsx)(l.Z,{cover:(0,k.jsx)("img",{src:x,style:{height:"450px",objectFit:"contain"},className:"mb-3"})}),(0,k.jsxs)(o.Z,{type:"card",children:[(0,k.jsx)(E,{tab:"Description",children:n.description&&n.description},"1"),(0,k.jsx)(E,{tab:"More",children:"Feel free to reach customer service for more info about this product"},"2")]})]})}):(0,k.jsx)("h4",{className:"text-danger",children:"Loading..."})}),(0,k.jsx)("div",{className:"col-md-5 float-right",children:(0,k.jsx)(l.Z,{actions:[(0,k.jsx)(u.Z,{title:$,children:(0,k.jsxs)("a",{children:[(0,k.jsx)(h.Z,{onClick:function(){var t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,r.Z)((0,r.Z)({},n),{},{count:1}));var e=L().uniqWith(t,L().isEqual);localStorage.setItem("cart",JSON.stringify(e)),G("Added"),X({type:"ADD_TO_CART",payload:e}),X({type:"SET_VISIBLE",payload:!0})}},children:"className= 'text-succes' >"}),(0,k.jsx)("br",{}),"Add to Cart"]})}),(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("a",{onClick:function(t){t.preventDefault(),(0,I.Mp)(n._id,Y.token).then((function(t){Z.Am.success("Added to wishlist!")}))},children:[(0,k.jsx)(p.Z,{className:"text-info"}),(0,k.jsx)("br",{}),"Add to Wishlist"]})}),(0,k.jsx)("div",{children:n?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(y,{children:(0,k.jsx)(b.Z,{name:n._id,numberOfStars:5,rating:W,changeRating:function(t,e){B(t),n&&(0,i.Ej)(n._id,t,Y.token).then((function(t){})).catch((function(t){console.log(t)}))},isSelectable:!0,starRatedColor:"red"})})}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("h3",{className:"text-danger",children:"Loading..."})})})],children:n?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A,{title:n.title,description:n.description}),n&&n.ratings&&n.ratings.length>0?(0,S.m)(n):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"pt-3 pb-3",children:"No ratings yet"})}),(0,k.jsx)("br",{}),(0,k.jsx)("div",{className:"mb-3"}),(0,k.jsxs)("ul",{className:"list-group",children:[(0,k.jsxs)("li",{className:"list-group-item",children:["Price ",(0,k.jsx)("span",{className:"label label-default label-pill pull-xs-right float-right",children:n.price})]}),_?(0,k.jsxs)("li",{className:"list-group-item",children:["Category ",(0,k.jsx)("span",{className:"label label-default label-pill pull-xs-right float-right",children:(0,k.jsx)(d.rU,{to:"/category/".concat(_.slug),children:_.name})})]}):(0,k.jsxs)("li",{className:"list-group-item",children:["Category ",(0,k.jsx)("span",{className:"label label-default label-pill pull-xs-right float-right",children:(0,k.jsx)(d.rU,{to:"",children:"Loading..."})})]}),R?(0,k.jsxs)("li",{className:"list-group-item",children:["Subcategories",R.map((function(t,e){return(0,k.jsx)("span",{children:(0,k.jsxs)(d.rU,{className:"label label-default label-pill pull-xs-right float-right",to:"/sub/".concat(t.slug),children:[" ","| ".concat(t.name," |")," "]})},e)}))]}):(0,k.jsxs)("li",{className:"list-group-item",children:["Subs ",(0,k.jsx)("span",{className:"label label-default label-pill pull-xs-right float-right",children:"Loading..."})]}),(0,k.jsxs)("li",{className:"list-group-item",children:["Shipping ",(0,k.jsx)("span",{className:"label label-default label-pill pull-xs-right float-right",children:n.shipping})]}),(0,k.jsxs)("li",{className:"list-group-item",children:["Color ",(0,k.jsx)("span",{className:"label label-default label-pill pull-xs-right float-right",children:n.color})]}),(0,k.jsxs)("li",{className:"list-group-item",children:["Brand ",(0,k.jsx)("span",{className:"label label-default label-pill pull-xs-right float-right",children:n.brand})]}),(0,k.jsxs)("li",{className:"list-group-item",children:["Quantity ",(0,k.jsx)("span",{className:"label label-default label-pill pull-xs-right float-right",children:parseInt(n.quantity)-parseInt(n.sold)})]}),(0,k.jsxs)("li",{className:"list-group-item",children:["Sold ",(0,k.jsx)("span",{className:"label label-default label-pill pull-xs-right float-right",children:n.sold})]})]})]}):(0,k.jsx)(A,{title:"Loading ... ",description:"Loading ..."})})})]})}),(0,k.jsx)("div",{className:"row",children:(0,k.jsxs)("div",{className:"col text-center pt-5 pb-5",children:[(0,k.jsx)("hr",{}),(0,k.jsx)("h4",{children:"Related products"}),(0,k.jsx)("hr",{}),(0,k.jsx)("div",{className:"container",children:(0,k.jsx)("div",{className:"row"})}),V.length>0?(0,k.jsx)(k.Fragment,{children:V.map((function(t,e){return(0,k.jsx)("div",{className:"col-md-4 float-left",children:(0,k.jsx)(C.Z,{product:t})},e)}))}):(0,k.jsx)("h6",{children:"No products found"})]})})]})}}}]);
//# sourceMappingURL=197.36a2fa56.chunk.js.map