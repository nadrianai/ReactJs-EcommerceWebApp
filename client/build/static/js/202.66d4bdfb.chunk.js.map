{"version":3,"file":"static/js/202.66d4bdfb.chunk.js","mappings":"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","sources":["component/cards/ProductCard.js","functions/rating.js","functions/sub.js","pages/sub/SubHome.js"],"sourcesContent":["import React, {useState} from 'react'\r\nimport {Card, Tooltip} from 'antd'\r\nimport {EyeOutlined, ShoppingCartOutlined} from '@ant-design/icons'\r\nimport {Link} from 'react-router-dom'\r\nimport laptop from '../../images/eceeee4c021a62c1877e22203056558d.png'\r\nimport {showAverage} from '../../functions/rating'\r\nimport  _ from 'lodash'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\n\r\nconst {Meta} = Card\r\n\r\n\r\nconst ProductCard = ({product}) => {\r\n    const [tooltip, setTooltip] = useState('Click to add')\r\n\r\n    const dispatch =  useDispatch()\r\n    const {user, cart} = useSelector((state)=>({...state}))\r\n\r\n    const handleAddToCart = () =>{\r\n        //create cart array\r\n        let cart = []\r\n        if(typeof window !== \"undefined\"){\r\n            //if cart is in localStorage, GET it\r\n            if(localStorage.getItem('cart')){\r\n                cart = JSON.parse(localStorage.getItem('cart'))  //converts to JSON\r\n            }\r\n            //push new product to cart\r\n            cart.push({\r\n                ...product, \r\n                count:1\r\n            })\r\n            //remove duplicates\r\n            let unique = _.uniqWith(cart, _.isEqual)\r\n            //save to local storage\r\n            localStorage.setItem('cart', JSON.stringify(unique)) //converts to string\r\n            // console.log(unique)\r\n            //show tooltip\r\n            setTooltip(\"Added\")\r\n            //add to redux state\r\n            dispatch({\r\n                type:\"ADD_TO_CART\",\r\n                payload: unique\r\n            })\r\n            //show cart items in side drawer\r\n            dispatch({\r\n                type:\"SET_VISIBLE\",\r\n                payload: true\r\n            })\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n    const {title, description, images, slug, price} = product\r\n\r\n  return (\r\n    <>\r\n        {product && product.ratings && product.ratings.length > 0 ? \r\n                        showAverage(product) :\r\n                        (\r\n                            <>\r\n                           <div className='pt-3 pb-3'>\r\n                                No ratings yet\r\n                           </div>\r\n                            </>\r\n                        )\r\n                    }\r\n    <Card className = \"mb-3\" cover ={\r\n        <img src={images && images.length ? images[0].url : laptop} \r\n        style={{\"height\": \"250px\", \"objectFit\":\"contain\"}}\r\n        />\r\n    }\r\n        actions = {[\r\n            <Link to={`/product/${slug}`}>\r\n                <EyeOutlined className='text-warning'/> <br/> View Product\r\n            </Link>\r\n            ,\r\n            <Tooltip title={tooltip}  >\r\n                <a onClick={handleAddToCart} disabled={product.quantity < 1}>\r\n                <ShoppingCartOutlined className=\"text-danger\" /> <br/> \r\n                    {product.quantity<1 ? \"Out of stock\" : \"Add to cart\"}\r\n                </a>\r\n            </Tooltip>\r\n           \r\n             \r\n        ]}\r\n    >\r\n        <Meta title={`${title} - ${price}$`} description={`${description} && ${description.substring(0, 40)}...`}>\r\n        </Meta>\r\n\r\n\r\n    </Card>\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nexport default ProductCard","import React from 'react'\r\nimport StarRatings from 'react-star-ratings'\r\n\r\nexport const  showAverage = (p) =>{\r\n    if(p && p.ratings) {\r\n        let ratingsArray = p && p.ratings\r\n        let total = []\r\n        let length = ratingsArray.length\r\n        ratingsArray.map((r) => total.push(r.star))\r\n        let totalReduced = total.reduce((p,n) =>  p + n, 0)\r\n        let highest = length * 5\r\n        let result = (totalReduced * 5) /highest \r\n\r\n        return (\r\n            <div className=' pt-3 pb-3'>\r\n                <span>\r\n                    <StarRatings rating ={result} starRatedColor = \"red\" starDimension='20px'\r\n                        starSpacing='2px' editing={false}\r\n                    />({p.ratings.length})\r\n                </span>\r\n            </div>\r\n        )\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n}","import axios from 'axios'\r\n\r\nexport const getSubs = async() =>{\r\n    return await axios\r\n            .get(`${process.env.REACT_APP_API}/subs`)\r\n            \r\n}\r\n\r\n\r\nexport const getSub= async(slug) =>{\r\n    return await axios\r\n            .get(`${process.env.REACT_APP_API}/sub/${slug}`)\r\n            \r\n}\r\nexport const removeSub = async(slug, authoken) =>{\r\n    return await axios\r\n            .delete(`${process.env.REACT_APP_API}/sub/${slug}`, \r\n            {\r\n                headers:{\r\n                    authoken //send in the headers \r\n                }\r\n            })\r\n            \r\n}\r\n\r\n\r\nexport const updateSub = async(slug, sub, authoken) =>{\r\n    return await axios\r\n            .put(`${process.env.REACT_APP_API}/sub/${slug}`, sub, \r\n            {\r\n                headers:{\r\n                    authoken //send in the headers \r\n                }\r\n            })\r\n            \r\n}\r\n\r\nexport const createSub= async(sub,  authoken) =>{\r\n    return await axios\r\n            .post(`${process.env.REACT_APP_API}/sub`,  sub,\r\n            {\r\n                headers:{\r\n                    authoken //send in the headers \r\n                }\r\n            })\r\n            \r\n}\r\n\r\nexport const getSubById = async(id) =>{\r\n    return await axios\r\n            .get(`${process.env.REACT_APP_API}/subs/${id}`)\r\n            \r\n}","import React, {useState, useEffect} from 'react'\nimport ProductCard from '../../component/cards/ProductCard'\nimport { useParams } from 'react-router-dom'\nimport { getSub } from '../../functions/sub'\n\nconst SubHome = () => {\n    const {slug} = useParams()\n    const [sub, setSub] = useState('')\n    const [products, setProducts] = useState([])\n    const [loading, setLoading] = useState(false)\n    \n\n    useEffect(()=>{\n        setLoading(true)\n        getSub(slug)\n            .then(res => {\n                console.log(res.data)\n                setProducts(res.data.products)\n                setSub(res.data.sub)\n                setLoading(false)\n            })\n    }, [])\n  return (\n    <div className=\"container-fluid\">\n          {loading ?  (\n            <h4 className='text-danger text-center p-3 mt-5 mb-5 display-4 jumbotron'>Loading...</h4>\n          ) : (\n            <>\n            <h4 className='text-center p-3 mt-5 mb-5 display-4 jumbotron' style={{\"backgroundColor\":\"rgb(237, 237, 237)\"}}>\n              {products.length} Products in {sub.name} subcategory\n            </h4>\n            <div className='row'>\n              {products.map((prod, index) => {\n                return (\n                  <div className='col-md-4' key={index} >\n                    <ProductCard product={prod}></ProductCard>\n                  </div>\n                )\n              })}\n            </div>\n\n            </>\n          )}\n    </div>\n  )\n}\n\nexport default SubHome\n"],"names":["Meta","Card","product","useState","tooltip","setTooltip","dispatch","useDispatch","useSelector","state","title","user","cart","description","images","slug","price","ratings","length","showAverage","className","cover","src","url","laptop","style","actions","to","onClick","window","localStorage","getItem","JSON","parse","push","count","unique","_","setItem","stringify","type","payload","disabled","quantity","substring","p","ratingsArray","total","map","r","star","totalReduced","reduce","n","result","rating","starRatedColor","starDimension","starSpacing","editing","getSubs","axios","process","getSub","removeSub","authoken","headers","updateSub","sub","createSub","getSubById","id","useParams","setSub","products","setProducts","loading","setLoading","useEffect","then","res","console","log","data","name","prod","index"],"sourceRoot":""}