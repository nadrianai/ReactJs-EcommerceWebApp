{"version":3,"file":"static/js/669.235022e3.chunk.js","mappings":"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","sources":["component/forms/FileUpload.js","component/nav/AdminNav.js","functions/category.js","functions/product.js","pages/admin/product/ProductCreate.js"],"sourcesContent":["import React from 'react'\r\nimport Resizer from 'react-image-file-resizer'\r\nimport axios from 'axios'\r\nimport { useSelector } from 'react-redux'\r\nimport {toast}  from 'react-toastify'\r\nimport { Avatar, Badge } from 'antd'\r\nconst FileUpload = ({values, setValues}) => {\r\n\r\n    const {user} = useSelector((state)=> ({...state}))\r\n\r\n    const handleImageRemove =(public_id) =>{\r\n        console.log(public_id)\r\n        axios.post(`${process.env.REACT_APP_API}/removeimages`, {public_id}, \r\n           { headers: {\r\n                authoken: user ? user.token : \"\"\r\n            }}\r\n        )\r\n        .then(res=>{\r\n            console.log(res.data)\r\n            const {images} = values\r\n            let filteredImages = images.filter((item)=>{\r\n                return item.public_id !== public_id\r\n            })\r\n            setValues({...values, images:filteredImages})\r\n        })\r\n        .catch(err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    const fileUploadAndResize = (e) =>{\r\n       // console.log(e.target.files)\r\n       //resize \r\n       let files = e.target.files\r\n       let allUploadedFiles =  values.images\r\n\r\n       if(files){\r\n        for (let i =0; i < files.length; i++){\r\n            Resizer.imageFileResizer(files[i], 720, 720, 'JPEG', 100, 0, (uri)=>{\r\n                // console.log(typeof uri)\r\n                axios.post(`${process.env.REACT_APP_API}/uploadimages`, {image:uri}, {\r\n                    headers:{\r\n                        authoken: user ? user.token : \"\"\r\n                    }\r\n                })\r\n                .then(res =>{\r\n                    console.log(res.data)\r\n                    allUploadedFiles.push(res.data)\r\n\r\n                    setValues({...values, images:  allUploadedFiles})\r\n                })\r\n                .catch(err=>{\r\n                    console.log(err)\r\n                    toast.error(err.message)\r\n\r\n                })\r\n            }, \r\n            \"base64\"\r\n              )\r\n\r\n        }\r\n       }\r\n       //send back to server to upload to cloudinary\r\n       //set url to images[] in the parent component - ProductCreate\r\n    }\r\n\r\n  return (\r\n    <React.Fragment>\r\n        <div className=\"row\">\r\n            {values.images && values.images.map((image, index)=>{\r\n                return (\r\n                    <a className=\"col\" key={image.public_id} onClick={()=> handleImageRemove(image.public_id)}>\r\n                        <Badge count=\"X\"  >\r\n                            <Avatar  src={image.url} size={80} className=\"ml-3\" shape=\"square\" />\r\n                        </Badge>\r\n\r\n                    </a>\r\n                    \r\n                    \r\n                )\r\n            })}\r\n        </div>\r\n        <div className=\"row\">\r\n            <label className=\"btn btn-primary btn-raised\">Choose File\r\n            <input type=\"file\" multiple hidden  accept=\"images/*\" onChange={fileUploadAndResize}/>\r\n        </label>\r\n    </div>\r\n\r\n    </React.Fragment>\r\n    \r\n  )\r\n}\r\n\r\nexport default FileUpload","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst AdminNav = () => {\r\n  return (\r\n    <nav>\r\n        <ul className=\"nav flex-column\">\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/dashboard\" className=\"nav-link\">DASHBOARD</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/product\" className=\"nav-link\">PRODUCT</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/products\" className=\"nav-link\">PRODUCTS</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/category\" className=\"nav-link\">CATEGORY</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/sub\" className=\"nav-link\">SUB CATEGORY</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/admin/coupon\" className=\"nav-link\">COUPON</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link to=\"/user/password\" className=\"nav-link\">PASSWORD</Link>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default AdminNav","import axios from 'axios'\r\n\r\nexport const getCategories = async(authoken) =>{\r\n    return await axios\r\n            .get(`${process.env.REACT_APP_API}/categories`)\r\n            \r\n}\r\n\r\n\r\nexport const getCategory = async(slug) =>{\r\n    return await axios\r\n            .get(`${process.env.REACT_APP_API}/category/${slug}`)\r\n            \r\n}\r\nexport const removeCategory = async(slug, authoken) =>{\r\n    return await axios\r\n            .delete(`${process.env.REACT_APP_API}/category/${slug}`, \r\n            {\r\n                headers:{\r\n                    authoken //send in the headers \r\n                }\r\n            })\r\n            \r\n}\r\n\r\n\r\nexport const updateCategory = async(slug, category, authoken) =>{\r\n    return await axios\r\n            .put(`${process.env.REACT_APP_API}/category/${slug}`, category, \r\n            {\r\n                headers:{\r\n                    authoken //send in the headers \r\n                }\r\n            })\r\n            \r\n}\r\n\r\nexport const createCategory = async(category, authoken) =>{\r\n    return await axios\r\n            .post(`${process.env.REACT_APP_API}/category`, category , \r\n            {\r\n                headers:{\r\n                    authoken //send in the headers \r\n                }\r\n            })\r\n            \r\n}\r\n\r\nexport const getCategorySubs = async(_id) =>{\r\n    return await axios\r\n            .get(`${process.env.REACT_APP_API}/category/subs/${_id}`)\r\n}\r\n\r\nexport const findById = async(_id) =>{\r\n    return await axios\r\n            .get(`${process.env.REACT_APP_API}/find/category/${_id}`)\r\n}","import axios from 'axios'\r\n\r\n\r\nexport const createProduct = async(product, authoken) =>{\r\n    return await axios\r\n            .post(`${process.env.REACT_APP_API}/product`, product , \r\n            {\r\n                headers:{\r\n                    authoken  \r\n                }\r\n            })\r\n            \r\n}\r\n\r\n\r\nexport const getProducstByCart = async(count) =>{\r\n    return await axios\r\n            .get(`${process.env.REACT_APP_API}/products/${count}`)\r\n            \r\n}\r\n\r\nexport const removeProduct = async(slug, authoken) =>{\r\n    return await axios\r\n            .delete(`${process.env.REACT_APP_API}/products/${slug}`, {\r\n                headers:{\r\n                    authoken\r\n                }\r\n            })\r\n            \r\n}\r\n\r\n\r\nexport const readProduct = async(slug) =>{\r\n    return await axios\r\n            .get(`${process.env.REACT_APP_API}/product/read/${slug}`)\r\n            \r\n}\r\n\r\nexport const updateProduct = async(slug, product,  authoken) =>{\r\n    return await axios\r\n            .put(`${process.env.REACT_APP_API}/product/${slug}`, product , {\r\n                headers:{\r\n                    authoken\r\n                }\r\n            })\r\n            \r\n}\r\n\r\nexport const getProducts = async(sort, order, page) =>{\r\n    return await axios\r\n            .post(`${process.env.REACT_APP_API}/products`, {sort, order, page} )\r\n            \r\n}\r\n\r\nexport const getProductsCount = async() =>{\r\n    return await axios\r\n            .get(`${process.env.REACT_APP_API}/products/total/number`)\r\n            \r\n}\r\n\r\nexport const productStar = async(productId, star,  authoken) =>{\r\n    return await axios\r\n            .put(`${process.env.REACT_APP_API}/product/star/${productId}`, {star} , {\r\n                headers:{\r\n                    authoken\r\n                }\r\n            })\r\n            \r\n}\r\n\r\nexport const getRelated = async(productId) =>{\r\n    return await axios\r\n            .get(`${process.env.REACT_APP_API}/product/related/${productId}`)\r\n            \r\n}\r\n\r\nexport const fetchProductsByFilter = async(arg) =>{\r\n    return await axios\r\n            .post(`${process.env.REACT_APP_API}/search/filters`, arg)\r\n            \r\n}","import React, {useState, useEffect} from 'react'\r\nimport AdminNav from '../../../component/nav/AdminNav'\r\nimport {toast}  from 'react-toastify'\r\nimport { useSelector } from 'react-redux'\r\nimport { createProduct } from '../../../functions/product'\r\nimport { getCategories, getCategorySubs } from '../../../functions/category'\r\nimport {Select} from 'antd'\r\nimport FileUpload from '../../../component/forms/FileUpload'\r\n\r\n\r\nconst {Option} = Select \r\n\r\nconst ProductCreate = () => {\r\n\r\n  useEffect(()=>{\r\n    loadCategories()\r\n  }, [])\r\n\r\n\r\n  const {user} = useSelector((state)=> ({...state}))\r\n\r\n  const initialState = {\r\n    title:'',\r\n    description:'',\r\n    price:'',\r\n    category:'',\r\n    categories:[],\r\n    subs:[],\r\n    shipping:'',\r\n    quantity:'',\r\n    images:[],\r\n    colors:['Black', 'Brown', 'Silver', 'White', 'Blue'],\r\n    brands:['Apple', 'Samsung', 'Microsoft', 'Lenovo', 'Assus', 'Toshiba', \"Hewlett Packard\"],\r\n    color:'',\r\n    brand:''\r\n    }\r\n\r\n  const [values, setValues] = useState(initialState)\r\n  const [subOptions, setSubOptions] = useState([])\r\n  const [showSub, setShowSub] = useState(false)\r\n\r\n\r\n  const {title, description, price, category,categories, subs, shipping, quantity, images, colors, brands, color, brand} = values\r\n\r\n  const loadCategories = () =>{\r\n    getCategories()\r\n    .then((c)=>  {\r\n      setValues({...values, categories: c.data})\r\n    })\r\n  }\r\n\r\n  const handleSubmit = (e)=>{\r\n    e.preventDefault()\r\n    createProduct(values, user.token)\r\n      .then(res=>{\r\n        toast.success(`${values.title} succesfully added to database!`)\r\n        window.location.reload()\r\n      })\r\n      .catch(err=>{\r\n        console.log(err)\r\n        toast.error(err.response.data.err)\r\n      })\r\n  }\r\n \r\n  const handleChange = (e) =>{\r\n    setValues({...values, [e.target.name]: e.target.value})\r\n  }\r\n\r\n  const handleCategoryChange = (e) =>{\r\n    e.preventDefault()\r\n    setValues({...values, subs:[], category:e.target.value})\r\n    getCategorySubs(e.target.value)\r\n      .then(res => {\r\n        // console.log(res.data)\r\n        setSubOptions(res.data)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className='container-fluid'>\r\n        <div className=\"row\">\r\n            <div className=\"col-md-2\">\r\n                <AdminNav/>\r\n            </div>\r\n                <div className=\"col-md-8\">\r\n                    <h4>  Poduct Create </h4>\r\n                    <hr/>\r\n                    <div className=\"p-3\">\r\n                      <FileUpload values= {values} setValues={setValues}/>\r\n                    </div>\r\n                    <hr/>\r\n                    <form onSubmit = {handleSubmit}>\r\n                      <div className=\"form-group\">\r\n                        <label>Title</label>\r\n                        <input  type=\"text\"  \r\n                                name=\"title\" \r\n                                className='form-control' \r\n                                value = {title} \r\n                                onChange= {handleChange}\r\n                                required\r\n                                />\r\n                      </div>\r\n\r\n                      <div className=\"form-group\">\r\n                        <label>Description</label>\r\n                        <input  type=\"text\"  \r\n                                name=\"description\" \r\n                                className='form-control' \r\n                                value = {description} \r\n                                onChange= {handleChange}\r\n                                required\r\n                                />\r\n                      </div>\r\n\r\n                      <div className=\"form-group\">\r\n                        <label>Price</label>\r\n                        <input  type=\"number\"  \r\n                                name=\"price\" \r\n                                className='form-control' \r\n                                value = {price} \r\n                                onChange= {handleChange}\r\n                                required\r\n                                />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <label>Shipping</label>\r\n                          <select name=\"shipping\" className='form-control' onChange = {handleChange} required>\r\n                            <option value=\"Please Select\">Please Select</option>\r\n                            <option value=\"No\">No</option>\r\n                            <option value=\"Yes\">Yes</option>\r\n                          </select>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <label>Quantity</label>\r\n                          <input  type=\"number\"  \r\n                                  name=\"quantity\" \r\n                                  className='form-control' \r\n                                  value = {quantity} \r\n                                  onChange= {handleChange}\r\n                                  required\r\n                                  />\r\n                        </div>\r\n                        \r\n                        <div className=\"form-group\">\r\n                          <label>Color</label>\r\n                          <select name=\"color\" className='form-control' onChange = {handleChange} required>\r\n                            <option value=\"Please Select\">Please Select</option>\r\n                            {\r\n                              colors.map((color, index) => {\r\n                                return (\r\n                                  <option value={color} key={index} >{color}</option>\r\n                                )\r\n                              })\r\n                            }\r\n                          </select>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <label>Brand</label>\r\n                          <select name=\"brand\" className='form-control' onChange = {handleChange} required>\r\n                            <option value=\"Please Select\">Please Select</option>\r\n                            {\r\n                              brands.map((brand, index) => {\r\n                                return (\r\n                                  <option value={brand} key={index} >{brand}</option>\r\n                                )\r\n                              })\r\n                            }\r\n                          </select>\r\n                        </div>\r\n                           \r\n                        <div className=\"form-group\">\r\n                          <label>Category</label>\r\n                          <select name=\"category\" className='form-control' onChange = {handleCategoryChange} required>\r\n                            <option value=\"Please Select\">Please Select</option>\r\n\r\n                            {categories.map((cat, index)=>{\r\n                              return (\r\n                                <option value={cat._id} key={index} >{cat.name}</option>\r\n                              )\r\n                            })}\r\n\r\n                          </select>\r\n                        </div>\r\n\r\n                          {subOptions.length > 0  && \r\n                            <div className=\"form-group\">\r\n                              <label>Sub Categories</label>\r\n                              <Select mode=\"multiple\" \r\n                                      style={{width:'100%'}} \r\n                                      placeholder=\"Please Select\" \r\n                                      value= {subs}\r\n                                      onChange={(value) => setValues({...values, subs: value})}>\r\n                                  {subOptions.map((cat, index)=>{\r\n                                  return (\r\n                                    <Option value={cat._id} key={index} >{cat.name}</Option>\r\n                                  )\r\n                                })}\r\n\r\n                              </Select>\r\n                        \r\n                            </div>}\r\n                        \r\n\r\n                        <button className=\"btn btn-outline-info\">\r\n                            Save\r\n                        </button>\r\n\r\n\r\n\r\n\r\n\r\n                    </form>\r\n                </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductCreate"],"names":["values","setValues","user","useSelector","state","className","images","map","image","index","onClick","public_id","console","log","axios","process","headers","authoken","token","then","res","data","filteredImages","filter","item","catch","err","count","src","url","size","shape","type","multiple","hidden","accept","onChange","e","files","target","allUploadedFiles","i","length","Resizer","uri","push","toast","message","to","getCategories","getCategory","slug","removeCategory","updateCategory","category","createCategory","getCategorySubs","_id","findById","createProduct","product","getProducstByCart","removeProduct","readProduct","updateProduct","getProducts","sort","order","page","getProductsCount","productStar","productId","star","getRelated","fetchProductsByFilter","arg","Option","Select","useEffect","loadCategories","useState","title","description","price","categories","subs","shipping","quantity","colors","brands","color","brand","subOptions","setSubOptions","c","handleChange","name","value","onSubmit","preventDefault","window","location","reload","response","required","cat","mode","style","width","placeholder"],"sourceRoot":""}