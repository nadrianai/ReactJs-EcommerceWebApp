{"version":3,"file":"static/js/427.052344c8.chunk.js","mappings":"mSA4EA,EApEiB,WACb,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACKC,GAAQC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,iBAAOA,EAAP,IAAzBF,KACDG,GAAUC,EAAAA,EAAAA,OAEdC,EAAAA,EAAAA,YAAU,WACHL,GAAQA,EAAKM,OACZH,EAAQI,KAAK,IAEpB,GAAC,CAACP,EAAKG,IAER,IAAMK,EAAY,yCAAG,WAAMC,GAAN,qFACjBA,EAAEC,iBACIC,EAAqB,CACvBC,OAAQ,0CACRC,IAAIC,0CACJC,iBAAgB,GAGdC,GAAOC,EAAAA,EAAAA,KARI,UASXC,EAAAA,EAAAA,IAAsBF,EAAMlB,EAAOa,GACxCQ,MAAK,WACFC,EAAAA,GAAAA,QAAA,2BAAkCtB,EAAlC,8CAEAuB,OAAOC,aAAaC,QAAQ,uBAAwBzB,GAEpDC,EAAS,GACZ,IACAoB,MAAK,WACFhB,EAAQI,KAAK,SAChB,IACAiB,OAAM,SAACC,GACJC,QAAQC,IAAIF,GACZL,EAAAA,GAAAA,MAAYK,EAAIG,QACnB,IAvBgB,2CAAH,sDA0CpB,OACE,gBAAKC,UAAU,gBAAf,UACI,gBAAKA,UAAU,MAAf,UACI,iBAAKA,UAAU,uBAAf,WACI,sCAjBL,kBAAMC,SAAUtB,EAAhB,WACK,kBAAOuB,KAAK,QACRF,UAAU,oBACVG,MAAQlC,EACRmC,SAAU,SAAAxB,GAAC,OAAGV,EAASU,EAAEyB,OAAOF,MAArB,EACXG,WAAS,EACTC,YAAY,gBAEhB,mBAAQC,KAAK,SAASR,UAAU,iBAAhC,gCAkBf,C","sources":["pages/auth/Register.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport auth from '../../firebase'\r\nimport {toast} from 'react-toastify'\r\nimport { getAuth, sendSignInLinkToEmail } from \"firebase/auth\"\r\nimport { useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nconst Register = () => {\r\n    const [email, setEmail] = useState('')\r\n    let {user} = useSelector(state=>({...state}))\r\n    let history = useHistory()\r\n   \r\n    useEffect(()=>{\r\n        if(user && user.token){\r\n            history.push('/')\r\n        }\r\n    },[user,history])\r\n\r\n    const handleSubmit = async(e) =>{\r\n        e.preventDefault()\r\n        const actionCodeSettings  ={\r\n            apiKey: \"AIzaSyC1Vb38sBkYYB3VmoKKA95_d_bHT4T_tDc\",\r\n            url:process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n            handleCodeInApp:true,\r\n            // dynamicLinkDomain: 'http://localhost:3000/register/complete'\r\n        }\r\n        const auth = getAuth();\r\n        await sendSignInLinkToEmail(auth, email, actionCodeSettings )\r\n        .then(()=>{\r\n            toast.success(`Email is sent to ${email}.Click the link to complete registration.`)\r\n            //save user email in local storage\r\n            window.localStorage.setItem('emailForRegistration', email )\r\n            //clear the satet\r\n            setEmail('') \r\n        })\r\n        .then(()=>{\r\n            history.push('/login')\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err)\r\n            toast.error(err.message)\r\n        })\r\n       \r\n    }\r\n\r\n    const registerForm =() =>{\r\n        return(\r\n           <form onSubmit={handleSubmit}>\r\n                <input type=\"email\" \r\n                    className='form-control mb-3' \r\n                    value ={email} \r\n                    onChange={e=> setEmail(e.target.value)}\r\n                    autoFocus\r\n                    placeholder='Your email'\r\n                    />\r\n                <button tyle=\"submit\" className='btn btn-raised'> Register</button>\r\n           </form>\r\n        )\r\n        \r\n    }\r\n  return (\r\n    <div className='container p-5'>\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <h4>\r\n                    Register\r\n                </h4>\r\n                {registerForm()}\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register"],"names":["useState","email","setEmail","user","useSelector","state","history","useHistory","useEffect","token","push","handleSubmit","e","preventDefault","actionCodeSettings","apiKey","url","process","handleCodeInApp","auth","getAuth","sendSignInLinkToEmail","then","toast","window","localStorage","setItem","catch","err","console","log","message","className","onSubmit","type","value","onChange","target","autoFocus","placeholder","tyle"],"sourceRoot":""}